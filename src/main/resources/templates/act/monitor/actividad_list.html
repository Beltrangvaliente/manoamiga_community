
<html xmlns:th="http://www.thymeleaf.org" th:replace="act/monitor/layouts/layout::layout( ~{::body} )">
   
    <body>
        <div data-toggle="indice"></div>
        <h3>Listado de Actividades</h3>
        <a class="btn btn-primary btn sm" href="form" >Nueva actividad</a>
        <a class="ml-5" href="#" onclick="tecnara.ocultar('formulario')" data-memory="2" >Ver filtros</a>
        
        <script>
            tecnara.filtroTabla = function (params) {
                params.tipoActividad = $("select[name='tipoActividad']").val();
                params.nombre = $("input[name='nombre']").val();
                params.fechaDesde = $("input[name='fechaDesde']").val();
                params.fechaHasta = $("input[name='fechaHasta']").val();
                params.responsable = $("input[name='responsable']").val();
                return params;
            }
        </script>

        <form id="formulario" class="d-none">  <!-- Filtrar -->
            <div class="row mt-3">
                <div class="col-md-2 sm-4">
                    <label>Tipo de actividad</label>
                    <select class="form-control" name="tipoActividad" data-memory="2">
                        <option value="">(Todos)</option>
                        <option value="formativa">Formativa</option>
                        <option value="voluntariado">Voluntariado</option>
                        <option value="recreativa">Recreativa</option>
                    </select>
                </div>
                <div class="col-md-2 sm-4">
                    <label>Nombre</label>
                    <input class="form-control" name="nombre" data-memory="2"/>
                </div>
                <div class="col-md-2 sm-4">
                    <label>Fecha desde</label>
                    <input type="date" class="form-control" name="fechaDesde" data-memory="2"/>
                </div>                
                <div class="col-md-2 sm-4">
                    <label>Fecha hasta</label>
                    <input type="date" class="form-control" name="fechaHasta" data-memory="2"/>
                </div>  
                <div class="col-md-2 sm-4">
                    <label>Responsable</label>
                    <input class="form-control" name="responsable" data-memory="2"/>
                </div>      
                <div class="col-2">
                    <label>&nbsp;</label>
                    <button type="button" class="btn btn-primary btn-block" 
                            onclick="tecnara.refrescarTablas()">  
                        <i class="fas fa-search"></i> Filtrar</button>

                </div>                     

            </div> 

        </form>        
        
        <table class="table table-striped" 
               data-toggle="table" 
               data-mobile-responsive="true" data-url="list_data"
               data-pagination="true"
               data-side-pagination="server"
               data-query-params="tecnara.filtroTabla" >
            <thead>
                <tr>
                   <th data-field ="tipo_actividad">Tipo de actividad</th>
                   <th data-field ="nombre_actividad">Nombre de la actividad</th>
                   <th data-field ="responsable_actividad">Responsable de la actividad</th>
                   <th data-field ="lugar_actividad">Lugar de la actividad</th>
                   <th data-field="id" data-formatter="tecnara.tablaBotones">Acciones</th>
                </tr>
                
            </thead>       
        </table> 
               
    </body>
</html>
         
                      
                   
         
             
                   
                   
                   
                   
                    
                   
                   
                   
                                  
                    
                
                
          
        
        
        
