<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="act/admin/layouts/layout::layout( ~{::body} )">
    <body>
        <div data-toggle="indice"></div>        
        <h3>Listado de Beneficiarios</h3>
        <a class="btn btn-primary btn-sm" href="form" >Nuevo Beneficiario</a>   
        <small class="ml-4" th:if="${nuevos>0}">Hay nuevos beneficiarios: <a href='../usuario/list'><b>Pulsa aqu√≠ para aceptarlos o rechazarlos</b></a> </small>
        <div class="row mt-3">
            <div class="col-4">
                <input class="form-control" name="filtro" placeholder="Escribe un texto para buscar" data-memory="2"/>
            </div>
            <div class="col-2">
                <button class="btn btn-primary " ><i class="fas fa-search"></i>  Filtrar</button>
            </div>              
        </div>

        <script>
            tecnara.filtroTabla = function (params) {
                params.filtro = $("*[name='filtro']").val();
                return params;
            }
        </script>

        <table class="table table-striped" data-toggle="table" 
                                          data-mobile-responsive="true" 
                                          data-url="list_data" 
                                          data-pagination="true" 
                                          data-side-pagination="server" 
                                          data-query-params="tecnara.filtroTabla">
            <thead>
                <tr>
                    <th data-field="nombre">Nombre del Beneficiario</th>
                    <th data-field="apellido1">Primer Apellido</th>
                    <th data-field="apellido2">Segundo Apellido</th>
                    <th data-field="documento">Documento</th>
                    <th data-field="tutor">Tutor</th>
                    <th data-field="id" data-formatter="tecnara.tablaBotones">Acciones</th>
                </tr>   
            </thead>    
        </table> 
    </body>
</html>


<script>
    tecnara.filtroTabla = function (params) {
        params.filtro = $("*[name='filtro']").val();
        return params;
    }
</script>
