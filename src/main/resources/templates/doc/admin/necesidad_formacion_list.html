<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="doc/admin/layouts/layout::layout( ~{::body} )">
    <body>
        <div class="row mt-5">
            <div class="container">
                <h3>Editar necesidades formativas</h3>
                <a href="form" class="btn btn-info mb-3"> <i class="fas fa-plus-circle"></i> Crear</a>
                <a class="ml-5" href="#" onclick="tecnara.ocultar('formulario')" data-memory="2" >Ver filtros</a>
                <form id="formulario" class="d-none mt-3"  >  <!-- Filtrar -->
                    <div class="row">
                        <div class="col-md-4 col-6">
                            <input class="form-control" name="nombre" placeholder="Introduce un texto para buscar" data-memory="2"/>
                        </div>
                        <div class="col-md-2 col-6">
                            <script>
                                tecnara.refrescarTablas = function () {
                                    $("table[data-toggle='table']").bootstrapTable('refresh');
                                }
                            </script>
                            <button type="button" class="btn btn-primary btn-block" 
                                    onclick="tecnara.refrescarTablas()"><i class="fas fa-search"></i>  Filtrar</button>
                        </div> 
                    </div>
                    </br>
                </form>

                <script>
                    tecnara.filtroTabla = function (params) {
                        params.filtro = $("input[name='nombre']").val();
                        return params;
                    }
                </script>
                <table class="table table-striped mt-3" data-toggle="table" data-mobile-responsive="true" 
                       data-url="list_data" 
                       data-pagination="true" 
                       data-side-pagination="server" 
                       data-query-params="tecnara.filtroTabla">
                    <thead>
                        <tr>
                            <th data-field="nombre"  >Curso</th>
                            <th data-field="idioma" >Idioma</th>
                            <th data-field="edad" >Edad</th>
                            <th data-field="id" data-formatter="tecnara.tablaBotones">Acciones</th> 
                        </tr>
                    </thead>
                </table><!-- comment -->
            </div>
        </div>
    </body>                    

