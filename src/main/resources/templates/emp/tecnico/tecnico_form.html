<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="emp/tecnico/layouts/layout::layout( ~{::body} )">
    <body>
        <div data-toggle="volver" th:if="${sinmenu!=true}"></div>
        <div class="container">
            <h3>Datos Personales</h3>
            <form action="guardar" method="post" th:object="${registro}">
                <input type="hidden" th:field="*{id}" />


                <div class="row">
                    <div class="col-md-6">
                        <label>Nombre</label>
                        <input class="form-control" th:field="*{nombre}" maxlength="200" />
                    </div>

                    <div class="col-md-6">
                        <label>Apellidos</label>
                        <input class="form-control" th:field="*{apellidos}" maxlength="200" />
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <label>Telefono</label>
                        <input class="form-control" th:field="*{telefono}" maxlength="200" />
                    </div>

                    <div class="col-md-6">
                        <label>E-mail</label>
                        <input class="form-control" th:field="*{email}" maxlength="200"/>
                    </div> 
                </div> 
                <div class="row">

                    <div class="col-md-3 col-sm-4">
                        <label>Usuario</label>
                        <input data-toggle="buscador" data-url="buscador_tecnico" class="form-control" th:field="*{idUsuario}" />
                    </div>
                    <div class="col-md-3 col-sm-4 ">
                        <label class="d-block">&nbsp;</label>
                        <input type="hidden" id="rol" value="ROLE_EMP_Tecnico"/>
                        <button type="button" data-toggle="formbox" data-return="idUsuario" data-params="rol" data-url="../usuario/form" class="btn btn-primary"><i class="fas fa-plus"></i> Crear usuario nuevo</button>
                    </div>  


                </div> 

                <hr/>
                <h4 class="mt-3">Contrato</h4>
                <div class="row">
                    <div class="col-md-12">
                        <label>Sede principal</label>
                        <input  class="form-control" th:field="*{sede}"/>
                    </div>                    
                </div>
                <div class="row">
                    <div class="col-md-8">
                        <label>Convenio</label>
                        <input  class="form-control" th:field="*{convenio}"/>
                    </div>                    
                    <div class="col-md-4">
                        <label>Horas anuales</label>
                        <input type="number" class="form-control" th:field="*{horasSegunContrato}"/>
                    </div>                    
                </div>                      
                <div class="row">
                    <div class="col-md-4">
                        <label>Hora de Salida</label>
                        <input name="horaSalida" onchange="tecnara.calcularMinutos()" type="time"  class="form-control" th:field="*{horaSalida}" required/>
                    </div>

                    <div class="col-md-4 ">
                        <label>Obligación de Registro Horario</label>
                        <select class="form-control" th:field="*{obligacionRegistroHorario}">
                            <option value="Si" >Si</option>
                            <option value="No" >No</option>
                        </select>
                    </div>                    
                </div>
                <div class="row">
                    <div class="col-md-4 ">
                        <label>Puede registrar permiso</label>
                        <select class="form-control" th:field="*{puedeRegistrarPermiso}">
                            <option value="Si" >Si</option>
                            <option value="No" >No</option>
                        </select>
                    </div>   

                    <div class="col-md-4 ">
                        <label>¿Es superAdministrador?</label>
                        <select class="form-control" th:field="*{superAdministrador}">
                            <option value="Si" >Si</option>
                            <option value="No" >No</option>
                        </select>
                    </div>  
                </div>

                <button type="submit" class="btn btn-primary mt-5">Guardar</button>
            </form>


        </div>

    </body>    
</html>
